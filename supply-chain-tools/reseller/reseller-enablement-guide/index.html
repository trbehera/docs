


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Secure Device Onboard Project">
      
      
        <link rel="canonical" href="https://secure-device-onboard.github.io/docs/supply-chain-tools/reseller/reseller-enablement-guide/">
      
      
        <meta name="author" content="Secure Device Onboard Contributers">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.0">
    
    
      
        <title>Reseller Tools - Secure Device Onboard</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6e35a1a6.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://secure-device-onboard.github.io/docs/" title="Secure Device Onboard" class="md-header-nav__button md-logo" aria-label="Secure Device Onboard">
      
  <img src="../../../images/sdo-x512.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Secure Device Onboard
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Reseller Tools
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../.." class="md-tabs__link">
          Secure Device Onboard
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../client-sdk/client-sdk-reference-guide/" class="md-tabs__link">
          Client SDK
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../iot-platform-sdk/introduction/" class="md-tabs__link">
          IOT Platform SDK
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../rendezvous-service/introduction/" class="md-tabs__link">
          Rendezvous Service
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../manufacturing/manufacturer-enablement-guide/" class="md-tabs__link md-tabs__link--active">
          Supply Chain Tools
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../protocol-reference-implementation/introduction/" class="md-tabs__link">
          Protocol Reference Implementation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../all-in-one-demo/introduction/" class="md-tabs__link">
          All-in-one Demo
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../protocol-specification/introduction/" class="md-tabs__link">
          Protocol Specification
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://secure-device-onboard.github.io/docs/" title="Secure Device Onboard" class="md-nav__button md-logo" aria-label="Secure Device Onboard">
      
  <img src="../../../images/sdo-x512.png" alt="logo">

    </a>
    Secure Device Onboard
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Secure Device Onboard
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Secure Device Onboard" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Secure Device Onboard
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../reference/" title="Reference" class="md-nav__link">
      Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../security-best-practices/security-best-practices/" title="Security Best Practices" class="md-nav__link">
      Security Best Practices
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Client SDK
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Client SDK" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Client SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../client-sdk/client-sdk-reference-guide/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../client-sdk/client-sdk-api-reference/" title="API Reference" class="md-nav__link">
      API Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      IOT Platform SDK
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="IOT Platform SDK" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        IOT Platform SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../iot-platform-sdk/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../iot-platform-sdk/running-the-demo/" title="Running The Demo" class="md-nav__link">
      Running The Demo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../iot-platform-sdk/development-guide/" title="Development Guide" class="md-nav__link">
      Development Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Rendezvous Service
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Rendezvous Service" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Rendezvous Service
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../rendezvous-service/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Supply Chain Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Supply Chain Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Supply Chain Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../manufacturing/manufacturer-enablement-guide/" title="Manufacturing Tools" class="md-nav__link">
      Manufacturing Tools
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Reseller Tools
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Reseller Tools" class="md-nav__link md-nav__link--active">
      Reseller Tools
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-documents" class="md-nav__link">
    Related Documents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-deployment" class="md-nav__link">
    Evaluation Deployment
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-prepare-hardware-infrastructure" class="md-nav__link">
    Step 1: Prepare Hardware Infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-deploy-database-and-toolkit" class="md-nav__link">
    Step 2: Deploy Database and Toolkit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-deployment" class="md-nav__link">
    Production Deployment
  </a>
  
    <nav class="md-nav" aria-label="Production Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-modify-business-system-processes" class="md-nav__link">
    Step 1: Modify business system processes
  </a>
  
    <nav class="md-nav" aria-label="Step 1: Modify business system processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-11-device-serial-no" class="md-nav__link">
    Step 1.1: Device Serial No
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-12-customer-descriptor" class="md-nav__link">
    Step 1.2: Customer Descriptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-13-deploy-for-multiple-key-types" class="md-nav__link">
    Step 1.3: Deploy for Multiple Key Types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-setup-infrastructure" class="md-nav__link">
    Step 2: Setup Infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-database-and-reseller-toolkit" class="md-nav__link">
    Step 3: Deploy Database and Reseller Toolkit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-test" class="md-nav__link">
    Step 4: Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-and-toolkit-installation" class="md-nav__link">
    Database and Toolkit Installation
  </a>
  
    <nav class="md-nav" aria-label="Database and Toolkit Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-docker-script" class="md-nav__link">
    Setup: Docker* Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-manual" class="md-nav__link">
    Setup: Manual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-troubleshooting" class="md-nav__link">
    Setup: Troubleshooting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-scenarios" class="md-nav__link">
    Usage Scenarios
  </a>
  
    <nav class="md-nav" aria-label="Usage Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-customer-public-key" class="md-nav__link">
    Import Customer Public Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-ownership-voucher" class="md-nav__link">
    Import Ownership Voucher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-device-voucher-to-customer" class="md-nav__link">
    Assign Device (Voucher) to Customer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-ownership-voucher" class="md-nav__link">
    Extend Ownership Voucher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../keystore-guide/" title="Keystore Guide" class="md-nav__link">
      Keystore Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Protocol Reference Implementation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Protocol Reference Implementation" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Protocol Reference Implementation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-reference-implementation/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      All-in-one Demo
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="All-in-one Demo" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        All-in-one Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../all-in-one-demo/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Protocol Specification
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Protocol Specification" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Protocol Specification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/protocol-description/" title="Protocol Description" class="md-nav__link">
      Protocol Description
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/protocol-data-types/" title="Protocol Data Types" class="md-nav__link">
      Protocol Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/data-transmission-persistence/" title="Data Transmission & Persistence" class="md-nav__link">
      Data Transmission & Persistence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/detailed-protocol-description/" title="Detailed Protocol Description" class="md-nav__link">
      Detailed Protocol Description
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/resale-protocol/" title="Resale Protocol" class="md-nav__link">
      Resale Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/credential-reuse-protocol/" title="Credential Reuse Protocol" class="md-nav__link">
      Credential Reuse Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/appendix-b-device-provisioning-with-ecdsa/" title="Appendix B - Device Provisioning with ECDSA" class="md-nav__link">
      Appendix B - Device Provisioning with ECDSA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../protocol-specification/appendix-c-secure-device-onboard-1-1-crypto-upgrade/" title="Appendix C - Secure Device Onboard 1.1 Crypto Upgrade" class="md-nav__link">
      Appendix C - Secure Device Onboard 1.1 Crypto Upgrade
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terminology" class="md-nav__link">
    Terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-documents" class="md-nav__link">
    Related Documents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-deployment" class="md-nav__link">
    Evaluation Deployment
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-prepare-hardware-infrastructure" class="md-nav__link">
    Step 1: Prepare Hardware Infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-deploy-database-and-toolkit" class="md-nav__link">
    Step 2: Deploy Database and Toolkit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-deployment" class="md-nav__link">
    Production Deployment
  </a>
  
    <nav class="md-nav" aria-label="Production Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-modify-business-system-processes" class="md-nav__link">
    Step 1: Modify business system processes
  </a>
  
    <nav class="md-nav" aria-label="Step 1: Modify business system processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-11-device-serial-no" class="md-nav__link">
    Step 1.1: Device Serial No
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-12-customer-descriptor" class="md-nav__link">
    Step 1.2: Customer Descriptor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-13-deploy-for-multiple-key-types" class="md-nav__link">
    Step 1.3: Deploy for Multiple Key Types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-setup-infrastructure" class="md-nav__link">
    Step 2: Setup Infrastructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-database-and-reseller-toolkit" class="md-nav__link">
    Step 3: Deploy Database and Reseller Toolkit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-test" class="md-nav__link">
    Step 4: Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-and-toolkit-installation" class="md-nav__link">
    Database and Toolkit Installation
  </a>
  
    <nav class="md-nav" aria-label="Database and Toolkit Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-docker-script" class="md-nav__link">
    Setup: Docker* Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-manual" class="md-nav__link">
    Setup: Manual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-troubleshooting" class="md-nav__link">
    Setup: Troubleshooting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-scenarios" class="md-nav__link">
    Usage Scenarios
  </a>
  
    <nav class="md-nav" aria-label="Usage Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-customer-public-key" class="md-nav__link">
    Import Customer Public Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-ownership-voucher" class="md-nav__link">
    Import Ownership Voucher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-device-voucher-to-customer" class="md-nav__link">
    Assign Device (Voucher) to Customer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-ownership-voucher" class="md-nav__link">
    Extend Ownership Voucher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                  <h1>Reseller Tools</h1>
                
                <h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Secure Device Onboard (SDO) enhances the out-of-the-box setup and provisioning experience for connected IoT devices.  </p>
<p>The SDO reseller toolkit addresses the needs of resellers, manufacturers, and others in the supply chain to transfer ownership of SDO devices.  </p>
<p>To learn more about SDO, see the <a href="#overview">Overview</a>. </p>
<h3 id="terminology">Terminology<a class="headerlink" href="#terminology" title="Permanent link">&para;</a></h3>
<p>Refer to the <a href="../../../reference/">Secure Device Onboard Reference page</a>.</p>
<h3 id="related-documents">Related Documents<a class="headerlink" href="#related-documents" title="Permanent link">&para;</a></h3>
<p>Your role as a supply chain integrator is combined with solutions implemented by manufacturers and device management service providers to enable a complete end-to-end experience. Refer to the <a href="../../../reference/">Secure Device Onboard Reference page</a>.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>As an Secure Device Onboard (SDO)-enabled device progresses through the supply chain, associated with the device are SDO ownership vouchers. Ownership vouchers are electronic documents that are ultimately used by the end recipient of the device to prove ownership. For SDO to function properly, it is important that these vouchers are extended from each entity to the next in the supply chain.
As a member of the supply chain, you are responsible for extending ownership vouchers to the next owner when devices are ordered or transferred. Extending ownership vouchers entails the following:  </p>
<ol>
<li>If you have purchased SDO-enabled devices, receiving a list of ownership vouchers from the previous owner (such as a manufacturer or other reseller/distributor). This can be done via email, a flat file, or an established B2B process to synchronize orders and associated ownership voucher data.  </li>
<li>Importing received ownership vouchers from devices you purchase into the SDO Database.  </li>
<li>Receiving public keys from device purchasers. This is to establish trust of the ownership voucher before it is transmitted or accessed. This receipt operation should be incorporated into your e-commerce flow so public keys are included as part of the device ordering process.  </li>
<li>Extending ownership vouchers based on customer public keys – once a public key from a customer is known and an order is fulfilled, the devices’ associated ownership vouchers are extended to the customer. The resulting vouchers are exported and transmitted to the customer, usually in conjunction with an advanced shipping notice (ASN).  </li>
</ol>
<p>To enable support for SDO, the Secure Device Onboard project provides the following:  </p>
<ul>
<li>A reseller toolkit to perform ownership voucher extension.  </li>
<li>SDO database to store customer public keys and vouchers received from suppliers (The project provides the definition for all the database artifacts while the reseller is responsible for providing the actual database instance).  </li>
</ul>
<p>The following diagram shows the interfaces between the SDO database, reseller toolkit, business systems, suppliers, and customers.</p>
<p><img alt="Interfaces between the SDO Database, Reseller Toolkit, Business Systems, Suppliers, and Customers" src="../img/Slide3.PNG" /></p>
<h2 id="evaluation-deployment">Evaluation Deployment<a class="headerlink" href="#evaluation-deployment" title="Permanent link">&para;</a></h2>
<p>The evaluation deployment is useful for development, test, and enabling purposes. The evaluation deployment can fully initialize a device to the same extent as the production deployment but does not require any integration with business systems nor the setup of a secure key fob.  </p>
<h3 id="step-1-prepare-hardware-infrastructure">Step 1: Prepare Hardware Infrastructure<a class="headerlink" href="#step-1-prepare-hardware-infrastructure" title="Permanent link">&para;</a></h3>
<p>You need to have one machine that can run the reseller toolkit as well as host the Secure Device Onboard (SDO) database. A non-production environment has minimal requirements; the machine can run either the Linux* OS (version 18.04) or Windows* 10 OS.  </p>
<h3 id="step-2-deploy-database-and-toolkit">Step 2: Deploy Database and Toolkit<a class="headerlink" href="#step-2-deploy-database-and-toolkit" title="Permanent link">&para;</a></h3>
<p>Install the SDO database and toolkit, see <a href="#database-and-toolkit-installation">Database and Toolkit Installation</a>. It is recommended to choose the key store file option unless there is a specified need to test with a secure key fob. </p>
<h2 id="production-deployment">Production Deployment<a class="headerlink" href="#production-deployment" title="Permanent link">&para;</a></h2>
<h3 id="step-1-modify-business-system-processes">Step 1: Modify business system processes<a class="headerlink" href="#step-1-modify-business-system-processes" title="Permanent link">&para;</a></h3>
<p>Your business system processes need to:  </p>
<ul>
<li>
<p>Manage receipt of ownership vouchers from suppliers and the ownership voucher storage in the SDO Database.  </p>
<p>When physical devices are received from your supplier, you should also receive the ownership vouchers. Typically, these are through an electronic communication channel. Each of these vouchers must be inserted in the SDO Database so they can be available for voucher extension (assignment to one of your customers). See <a href="#import-ownership-voucher">Import Ownership Voucher</a> for details.</p>
</li>
<li>
<p>Manage SDO public key(s) from customers, and the public key(s) storage in the SDO database.  </p>
<p>SDO requires the customer’s SDO public key. Your customer interactions and processes must be modified as required to support this receipt of their public key and then to import this key into the SDO Database. See <a href="#import-customer-public-key">Import Customer Public Key</a>.  </p>
<p>Whether this key is delivered with each order or done before separately depends on your processes and interaction with your customers.</p>
</li>
<li>
<p>Provide your SDO public key to your suppliers.  </p>
<p>During the initial setup of the reseller toolkit, you will create a key pair (if you support a device with multiple cryptography standards, you will have more than one key pair). This key pair needs to be provided to your suppliers. The key pair needs only be supplied once or be supplied with each order. The details would be determined by you and your suppliers.  </p>
</li>
<li>
<p>Manage ownership vouchers sent to customers.</p>
<p>After a device is initialized with SDO, an initial ownership voucher is produced and stored in the SDO Database. This voucher must first be “signed” to a customer before sending to the customer.</p>
</li>
</ul>
<p>The ownership voucher management task has the following two steps:  </p>
<ol>
<li>Assign a voucher (device) to a customer (technically, a customer public key) See <a href="#assign-device-voucher-to-customer">Assign Device (Voucher) to Customer</a>.  </li>
<li>Perform voucher extension. The resulting extended voucher can then be sent to the customer.  </li>
</ol>
<p>The following are the implied requirements:  </p>
<ol>
<li>It is assumed that you already have some way to track which device was shipped with which order. Most likely, this was done with serial numbers. With SDO, there is an additional requirement that you must match voucher(s) with physical devices such that the voucher(s) delivered to the customer are those that correspond to the actual physical devices that are delivered.</li>
<li>You need to update or modify the existing B2B channel to include an ownership voucher for each physical device delivered to the customer. Typically, these vouchers would be linked to the order in a particular way, but the details will vary for each reseller or distributor.</li>
<li>If a customer loses one of these vouchers and requires a replacement, then you must re-generate this voucher or retrieve the voucher from the device or order data if you choose to store the extended voucher with the device or order data.
The following figure shows a typical usage scenario of various sequences involved in supporting SDO-enabled devices. The order and timing of each sequence may vary with your ordering and inventory management processes. The only firm requirement is that Seq 1 happens before Seq 2, and Seq 2 and 3 happen before Seq 4.</li>
</ol>
<p><img alt="A Typical Usage Scenario of Various Sequences Involved in Supporting SDO-Enabled Devices" src="../img/Slide4.PNG" /></p>
<h4 id="step-11-device-serial-no">Step 1.1: Device Serial No<a class="headerlink" href="#step-11-device-serial-no" title="Permanent link">&para;</a></h4>
<p>SDO requires the correct ownership voucher to be delivered with each physical device. Therefore, an identifier that is present on the physical device, for example the serial number, can be used.
Scanning an identifier on the physical device allows for the correct voucher to be selected (if an incorrect voucher is delivered, SDO will fail later in the supply chain when run). If, for example, the serial number is already known, the correct physical device can be selected.
In practice, the device serial number is used as the identifier. The vouchers you receive from your suppliers will include this “index” value along with each voucher.</p>
<h4 id="step-12-customer-descriptor">Step 1.2: Customer Descriptor<a class="headerlink" href="#step-12-customer-descriptor" title="Permanent link">&para;</a></h4>
<p>A customer descriptor is used when importing customer public keys and assigning a voucher to a customer. This descriptor is a string value that must uniquely identify the customer. It is up to you, the reseller or distributor, to form this value. Duplicates are to be avoided because this value would be used when importing public keys and extending ownership vouchers.</p>
<h4 id="step-13-deploy-for-multiple-key-types">Step 1.3: Deploy for Multiple Key Types<a class="headerlink" href="#step-13-deploy-for-multiple-key-types" title="Permanent link">&para;</a></h4>
<p>If you, as a reseller or distributor, produces both the Rivest–Shamir–Adleman (RSA)- and elliptic-curve cryptography (ECC)-based devices, you will need to support two different key types. However, because of the limitations of the secure key fob (For example, Yubikey*), the deployment of multiple key types requires that multiple secure key fobs, each with one type of key pair, be used. The following figure shows a usage example. </p>
<p><img alt="An Example of Using Two Different Key Types" src="../img/Slide5.PNG" /></p>
<h3 id="step-2-setup-infrastructure">Step 2: Setup Infrastructure<a class="headerlink" href="#step-2-setup-infrastructure" title="Permanent link">&para;</a></h3>
<p>You need to acquire and put into place the following:  </p>
<p>•   A system to host the reseller toolkit and SDO Database<br />
•   Secure key fob(s)  </p>
<p>The following tables list the hardware infrastructure for Linux*- and Windows*-based reseller toolkits, respectively.</p>
<p>Table 1. Linux* OS-based Reseller Toolkit</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Connectivity</td>
<td>An Ethernet network to connect to the   IoT device.</td>
</tr>
<tr>
<td>Secure Key Fobs</td>
<td>YubiKey* security key (see <a href="https://www.yubico.com/products/yubikey-hardware/">https://www.yubico.com/products/yubikey-hardware/</a>)</td>
</tr>
<tr>
<td>Operating System</td>
<td>Ubuntu* OS version 16.x or 18.x</td>
</tr>
<tr>
<td>Software</td>
<td>· Java* Runtime Environment (JRE) software version 11 Oracle* software (<a href="http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a>) </p>  or  </p> <strong>Open JRE</strong> (<a href="http://openjdk.java.net/install/index.html">http://openjdk.java.net/install/index.html</a>) </p>  · Apache Tomcat* (<a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a>)   software version 8 or later </p>  · MariaDB* (<a href="http://mariadb.org/">http://mariadb.org/</a>) server version 10.4 or   later</td>
</tr>
</tbody>
</table>
<p>Table 2. Windows* OS-based Reseller Toolkit</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Connectivity</td>
<td>An Ethernet network to connect to the   IoT device.</td>
</tr>
<tr>
<td>Secure Key Fobs</td>
<td>YubiKey* security key (see <a href="https://www.yubico.com/products/yubikey-hardware/">https://www.yubico.com/products/yubikey-hardware/</a>)</td>
</tr>
<tr>
<td>Operating System</td>
<td>Ubuntu* OS version 16.x or 18.x</td>
</tr>
<tr>
<td>Software</td>
<td>· Java* Runtime Environment (JRE) software version 11    <strong>Oracle software</strong> (<a href="http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a>) </p>  or </p>  <strong>Open JRE</strong> (<a href="http://openjdk.java.net/install/index.html">http://openjdk.java.net/install/index.html</a>) </p>  · Apache Tomcat* (<a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a>)   software version 8 or later </p>  · MariaDB* (<a href="http://mariadb.org/">http://mariadb.org/</a>) server version 10.4 or   later</td>
</tr>
</tbody>
</table>
<h3 id="step-3-deploy-database-and-reseller-toolkit">Step 3: Deploy Database and Reseller Toolkit<a class="headerlink" href="#step-3-deploy-database-and-reseller-toolkit" title="Permanent link">&para;</a></h3>
<p>Install the SDO database and toolkit, see <a href="#database-and-toolkit-installation">Database and Toolkit Installation</a>. Be sure to use the secure key fob option for the key storage. </p>
<h3 id="step-4-test">Step 4: Test<a class="headerlink" href="#step-4-test" title="Permanent link">&para;</a></h3>
<p>Import test voucher and public key. Assign voucher to customer. Invoke voucher extension command.</p>
<h2 id="database-and-toolkit-installation">Database and Toolkit Installation<a class="headerlink" href="#database-and-toolkit-installation" title="Permanent link">&para;</a></h2>
<p>You can either use the Docker* script provided or deploy manually.</p>
<h3 id="setup-docker-script">Setup: Docker* Script<a class="headerlink" href="#setup-docker-script" title="Permanent link">&para;</a></h3>
<p>The Docker* script requires a key store file containing the SDO reseller keys. See <a href="../../keystore-guide/">Supply Chain Tools Key Store Setup Guide</a> for details. 
For the remaining setup, follow the instructions in the readme file in the SDO Docker* directory.</p>
<h3 id="setup-manual">Setup: Manual<a class="headerlink" href="#setup-manual" title="Permanent link">&para;</a></h3>
<ol>
<li>For the following steps, run as root or use sudo.</li>
<li>Install the MariaDB* server from https://mariadb.org/.</li>
<li>For each of the following commands, use the ‘root’ user you defined in step 2 where you installed the MariaDB* server, and run each script on the machine where the MariaDB* server is installed. You’ll find the scripts in both the source and binary files of the release.  </li>
<li>Edit the rt_config.sql and mt_config.sql as directed by the comments in each file.</li>
<li>
<p>Run the rt_create.sql script:<br />
<code>mysql -u &lt;username&gt; -p &lt; rt_create.sql</code></p>
</li>
<li>
<p>Run the rt_config.sql script:<br />
<code>mysql -u &lt;username&gt; -p &lt; rt_config.sql</code></p>
</li>
<li>Create a key store containing the SDO reseller keys. See <a href="../../keystore-guide/">Supply Chain Tools Key Store Setup Guide</a> for details.  </li>
<li>Setup and deploy the toolkit web service. If this is an evaluation deployment, you have an option to run the web service directly from the command line. If you choose to do this, instructions are provided in the readme file included with the toolkit software. Follow those instructions. You can verify that the toolkit starts up correctly by looking at the output in the window where you ran the toolkit. Installation is then complete, and you can skip the following steps.
An example if running directly:<br />
<code>java -Dspring.datasource.url="jdbc:mariadb://localhost:3307/sdo" -Dspring.datasource.username=sdo_admin -Dspring.datasource.password=sdo -Dsdo.keystore="file:///sdo.p12" -Dsdo.keystore.password=123456 -jar ./reseller-webapp-1.8.war</code></li>
<li>Install the Apache Tomcat* software from http://tomcat.apache.org/ or equivalent.</li>
<li>Copy the reseller toolkit war file into the Apache Tomcat* webapps directory (on a Linux* machine this would typically be /var/lib/tomcat8/webapps). Rename the war file to ROOT.war.</li>
<li>Start the Apache Tomcat<em> service. This will trigger Apache Tomcat</em> to unpack the war file and create individual files in the webapps/ROOT directory.</li>
<li>
<p>Add the remaining toolkit configuration for the Apache Tomcat* software (see the readme file included with the toolkit software for further details). For Apache Tomcat* version 8 running on the Linux* machine, these settings are located in /var/lib/tomcat/webapps/ROOT/WEB-INF/classes/application.properties. An example is given as follows:<br />
<code>spring.datasource.url=jdbc:mariadb://localhost:3307/sdo?useSSL=false
    spring.datasource.username=sdo_admin
    spring.datasource.password=sdo
    sdo.keystore=file:///var/lib/tomcat8/webapps/ROOT/sdo.p12 
    sdo.keystore.password=123456</code>  </p>
<p><strong><em>Note:</em></strong> The database user and password should match those configured in rt_config.sql. </p>
<ul>
<li>datasource.url: be sure to use localhost rather than the IP address.  </li>
<li>sdo.keystore: this is either the pathname to the software key store (jks) or to the public key cryptography standards (PKCS#11) library if using the secure key fob. Be sure to not use quotes around the value.  </li>
<li>sdo.keystore.password: this is the password for the software key store or the pin code of the secure key fob.  </li>
</ul>
</li>
<li>
<p>Start the Apache Tomcat* service. </p>
</li>
<li>Test with the status page: http://<hostname or ip>/api/v1/status. If the page does not load, look at the Apache Tomcat* logs to debug any errors.</li>
</ol>
<h3 id="setup-troubleshooting">Setup: Troubleshooting<a class="headerlink" href="#setup-troubleshooting" title="Permanent link">&para;</a></h3>
<p>Troubleshoot using the following steps if the toolkit web service does not start correctly:  </p>
<ol>
<li>Verify that the JDBC* string is correct.  </li>
</ol>
<p>An example is: jdbc:mariadb://localhost:3307/sdo. Be sure <strong>mariadb</strong> is included, the port is specified as <strong>3307</strong>, and the host name is correct.  </p>
<ol>
<li>Verify that the database user and password are correct.  </li>
</ol>
<p>The user and password should be the same as those defined in rt_config.sql. You may wish to use some third-party database tool to log into the database to test that the user and password are correct.</p>
<h2 id="usage-scenarios">Usage Scenarios<a class="headerlink" href="#usage-scenarios" title="Permanent link">&para;</a></h2>
<h3 id="import-customer-public-key">Import Customer Public Key<a class="headerlink" href="#import-customer-public-key" title="Permanent link">&para;</a></h3>
<p>Import the customer public key by calling the <strong>rt_add_customer_public_key</strong> stored procedure. In a production environment, the import would likely be invoked programmatically. For test, development, or evaluation purposes, run from the command line as follows:</p>
<pre><code>mysql -u &lt;username&gt; -p -h &lt;SDO database server hostname or ip&gt; -P &lt;server port&gt; -e “use sdo; call rt_add_customer_public key('CUST_DIST_12345', '-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCqGKukO1De7zhZj6+H0qtjTkVxwTCpvKe4eCZ0
FPqri0cb2JZfXJ/DgYSF6vUpwmJG8wVQZKjeGcjDOL5UlsuusFncCzWBQ7RKNUSesmQRMSGkVb1/
3j+skZ6UtW+5u09lHNsj6tQ51s1SPrCBkedbNf0Tp0GbMJDyR4e9T04ZZwIDAQAB
-----END PUBLIC KEY-----’)”
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure this is the public key PEM and not the certificate PEM. The public key can be extracted from the certificate with the OpenSSL* toolkit:  </p>
<p><code>openssl x509 -pubkey -noout -in &lt;cert file&gt;.pem &gt; &lt;pubkey&gt;.pem</code></p>
</div>
<h3 id="import-ownership-voucher">Import Ownership Voucher<a class="headerlink" href="#import-ownership-voucher" title="Permanent link">&para;</a></h3>
<p>Import the ownership voucher by calling the rt_add_voucher stored procedure. In a production environment, the import would likely be invoked programmatically. For test, development, or evaluation purposes, run from the command line as follows:</p>
<pre><code>mysql -u &lt;username&gt; -p -h &lt;SDO database server hostname or ip&gt; -P &lt;server port&gt; -e “use sdo; call rt_add_voucher('SN1342599', '{&quot;sz&quot;:0,&quot;oh&quot;:{&quot;pv&quot;:112,&quot;pe&quot;:3,&quot;r&quot;:[2,[4,{&quot;dn&quot;:&quot;localhost&quot;,&quot;only&quot;:&quot;owner&quot;,&quot;pow&quot;:8040,&quot;pr&quot;:&quot;http&quot;}],[4,{&quot;dn&quot;:&quot;localhost&quot;,&quot;only&quot;:&quot;dev&quot;,&quot;po&quot;:8040,&quot;pr&quot;:&quot;http&quot;}]],&quot;g&quot;:&quot;UNqKf+WjRi6sFBXybKASPg==&quot;,&quot;d&quot;:&quot;NOT SET&quot;,&quot;pk&quot;:[1,3,[257,&quot;AL6FIK4LAS+7ppX07aoDwJyD0dCjH0730+7sD/PiqEez9/xlwLJqt0M33/eRclchNoHcAIpZFX8tTzu3gVVaJzp73SO2gnTGwhE7SuVr+nzdYh1HksrItnUgx1uVxA3hnUHXy1J7aiZAS4DLUHsWf6gAdVF2VEZpRYupNLo+X6Xt9sZ2Wxt1oy0C/oSG4O8oY9i2wvTSreclafIYKUP8lJIOQt4MZsbcgJWL1Mr1CEBsZ8xwCJiIdmP292WaV8f3zraCAzyjDS0BVrv/0JGfFSjkPzsK8kajtKUPDVTPRLT67M2K1DkQeZLdj1bbVZdXZo7aGW2X0H3JPOuY+CbO0w8=&quot;,3,&quot;AQAB&quot;]]},&quot;hmac&quot;:[32,108,&quot;PB+PtWcCFRa6nJcGQM3P4JJUUR/hBmWobFBGxjyBdRs=&quot;],&quot;en&quot;:[]}')”
</code></pre>

<h3 id="assign-device-voucher-to-customer">Assign Device (Voucher) to Customer<a class="headerlink" href="#assign-device-voucher-to-customer" title="Permanent link">&para;</a></h3>
<p>Assign the device (voucher) by calling the <strong>rt_assign_device_to_customer</strong> stored procedure. In a production environment, the assignment would likely be invoked programmatically. For test, development, or evaluation purposes, run from the command line as follows:</p>
<pre><code>mysql -u &lt;username&gt; -p -h &lt;SDO database server hostname or ip&gt; -P &lt;server port&gt; -e “use sdo; call rt_assign_device_to_customer(‘SN12345678’, ’CUST_DIST_12345’)”
</code></pre>

<h3 id="extend-ownership-voucher">Extend Ownership Voucher<a class="headerlink" href="#extend-ownership-voucher" title="Permanent link">&para;</a></h3>
<p>Ownership voucher is extended through the REST API. In a production environment, the extension would be done programmatically. For test purposes, you can use curl to invoke the extension:</p>
<pre><code>curl -X GET http://&lt;reseller toolkit ip&gt;:&lt;port&gt;/api/v1/vouchers/&lt;device serial no&gt;
</code></pre>

<p>The result will be the extended voucher.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../manufacturing/manufacturer-enablement-guide/" title="Manufacturing Tools" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Manufacturing Tools
              </div>
            </div>
          </a>
        
        
          <a href="../../keystore-guide/" title="Keystore Guide" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Keystore Guide
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Intel Corporation - Released under CC BY 4.0 license
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../../assets/javascripts/bundle.a14cc5fd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>