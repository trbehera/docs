


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Secure Device Onboard Project">
      
      
        <link rel="canonical" href="https://secure-device-onboard.github.io/docs/iot-platform-sdk/development-guide/">
      
      
        <meta name="author" content="Secure Device Onboard Contributers">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.0">
    
    
      
        <title>Development Guide - Secure Device Onboard</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6e35a1a6.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rest-contracts-between-ocs-server-and-opsto0scheduler-client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://secure-device-onboard.github.io/docs/" title="Secure Device Onboard" class="md-header-nav__button md-logo" aria-label="Secure Device Onboard">
      
  <img src="../../images/sdo-x512.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Secure Device Onboard
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Development Guide
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://secure-device-onboard.github.io/docs/" title="Secure Device Onboard" class="md-nav__button md-logo" aria-label="Secure Device Onboard">
      
  <img src="../../images/sdo-x512.png" alt="logo">

    </a>
    Secure Device Onboard
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/" title="Reference" class="md-nav__link">
      Reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security-best-practices/security-best-practices/" title="Security Best Practices" class="md-nav__link">
      Security Best Practices
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Client SDK
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Client SDK" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Client SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../client-sdk/client-sdk-reference-guide/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../client-sdk/client-sdk-api-reference/" title="API Reference" class="md-nav__link">
      API Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      IOT Platform SDK
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="IOT Platform SDK" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        IOT Platform SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../running-the-demo/" title="Running The Demo" class="md-nav__link">
      Running The Demo
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Development Guide
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Development Guide" class="md-nav__link md-nav__link--active">
      Development Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rest-contracts-between-ocs-server-and-opsto0scheduler-client" class="md-nav__link">
    Rest Contracts between OCS (server) and OPS/To0Scheduler (client)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-contracts-between-to0scheduler-server-and-ocs-client" class="md-nav__link">
    Rest Contracts between To0Scheduler (server) and OCS (client)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-types" class="md-nav__link">
    Message Types
  </a>
  
    <nav class="md-nav" aria-label="Message Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devicestate" class="md-nav__link">
    DeviceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protocolerror" class="md-nav__link">
    ProtocolError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulemessage" class="md-nav__link">
    ModuleMessage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svimessage" class="md-nav__link">
    SviMessage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupinforesponse" class="md-nav__link">
    SetupInfoResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendezvousinstruction" class="md-nav__link">
    RendezvousInstruction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signatureresponse" class="md-nav__link">
    SignatureResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownervoucher" class="md-nav__link">
    OwnerVoucher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message41store" class="md-nav__link">
    Message41Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message45store" class="md-nav__link">
    Message45Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message47store" class="md-nav__link">
    Message47Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicecryptoinfo" class="md-nav__link">
    DeviceCryptoInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to2devicesessioninfo" class="md-nav__link">
    To2DeviceSessionInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to0request" class="md-nav__link">
    To0Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Rendezvous Service
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Rendezvous Service" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Rendezvous Service
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../rendezvous-service/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Supply Chain Tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Supply Chain Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Supply Chain Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../supply-chain-tools/manufacturing/manufacturer-enablement-guide/" title="Manufacturing Tools" class="md-nav__link">
      Manufacturing Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../supply-chain-tools/reseller/reseller-enablement-guide/" title="Reseller Tools" class="md-nav__link">
      Reseller Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../supply-chain-tools/keystore-guide/" title="Keystore Guide" class="md-nav__link">
      Keystore Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Protocol Reference Implementation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Protocol Reference Implementation" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Protocol Reference Implementation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-reference-implementation/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      All-in-one Demo
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="All-in-one Demo" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        All-in-one Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../all-in-one-demo/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Protocol Specification
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Protocol Specification" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Protocol Specification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/protocol-description/" title="Protocol Description" class="md-nav__link">
      Protocol Description
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/protocol-data-types/" title="Protocol Data Types" class="md-nav__link">
      Protocol Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/data-transmission-persistence/" title="Data Transmission & Persistence" class="md-nav__link">
      Data Transmission & Persistence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/detailed-protocol-description/" title="Detailed Protocol Description" class="md-nav__link">
      Detailed Protocol Description
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/resale-protocol/" title="Resale Protocol" class="md-nav__link">
      Resale Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/credential-reuse-protocol/" title="Credential Reuse Protocol" class="md-nav__link">
      Credential Reuse Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/appendix-b-device-provisioning-with-ecdsa/" title="Appendix B - Device Provisioning with ECDSA" class="md-nav__link">
      Appendix B - Device Provisioning with ECDSA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol-specification/appendix-c-secure-device-onboard-1-1-crypto-upgrade/" title="Appendix C - Secure Device Onboard 1.1 Crypto Upgrade" class="md-nav__link">
      Appendix C - Secure Device Onboard 1.1 Crypto Upgrade
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rest-contracts-between-ocs-server-and-opsto0scheduler-client" class="md-nav__link">
    Rest Contracts between OCS (server) and OPS/To0Scheduler (client)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-contracts-between-to0scheduler-server-and-ocs-client" class="md-nav__link">
    Rest Contracts between To0Scheduler (server) and OCS (client)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-types" class="md-nav__link">
    Message Types
  </a>
  
    <nav class="md-nav" aria-label="Message Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devicestate" class="md-nav__link">
    DeviceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protocolerror" class="md-nav__link">
    ProtocolError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulemessage" class="md-nav__link">
    ModuleMessage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svimessage" class="md-nav__link">
    SviMessage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupinforesponse" class="md-nav__link">
    SetupInfoResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendezvousinstruction" class="md-nav__link">
    RendezvousInstruction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signatureresponse" class="md-nav__link">
    SignatureResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownervoucher" class="md-nav__link">
    OwnerVoucher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message41store" class="md-nav__link">
    Message41Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message45store" class="md-nav__link">
    Message45Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message47store" class="md-nav__link">
    Message47Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devicecryptoinfo" class="md-nav__link">
    DeviceCryptoInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to2devicesessioninfo" class="md-nav__link">
    To2DeviceSessionInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to0request" class="md-nav__link">
    To0Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                  <h1>Development Guide</h1>
                
                <p>The IOT Platform SDK consists of Owner Companion Service (OCS) that can be implemented to integrate any other device management solution.</p>
<p>Both the OPS and To0Scheduler are bound to the OCS by a set of pre-defined REST contracts, as specified in the module <code>libocs</code>, that can be implemented to perform certain pre-defined tasks. Each REST API must carry out only the corresponding task, and must accept/return only the corresponding Message Type object.</p>
<p>The implementation of these REST contracts in an OCS can be done in any programming language. A sample java-based reference implementation of OCS is provided by the module <code>ocsfs</code> that uses file-system as database. As such, both OPS and To0Scheduler will work out-of-the-box with any implementation of OCS that supports the pre-defined REST contracts.</p>
<h2 id="rest-contracts-between-ocs-server-and-opsto0scheduler-client">Rest Contracts between OCS (server) and OPS/To0Scheduler (client)<a class="headerlink" href="#rest-contracts-between-ocs-server-and-opsto0scheduler-client" title="Permanent link">&para;</a></h2>
<p>Following are the pre-defined REST API specifications for all the resource paths that must be implemented and exposed by an OCS implementation. Both, OPS and To0Scheduler makes requests to the OCS implementation, as clients, using this format.</p>
<table>
<thead>
<tr>
<th align="right">Operation</th>
<th align="center">Description</th>
<th align="center">Path/Query Parameters</th>
<th align="center">Request Body</th>
<th align="right">Response Body</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/voucher</td>
<td align="center">Get the ownership voucher corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">OwnerVoucher</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/devices/voucher</td>
<td align="center">Store the ownership voucher.</td>
<td align="center"></td>
<td align="center">OwnerVoucher</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/state</td>
<td align="center">Get the state information corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">DeviceState</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/devices/{deviceId}/state</td>
<td align="center">Store the state information corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center">DeviceState</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/msgs</td>
<td align="center">Get service info array corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">[SviMessage]</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/devices/{deviceId}/msgs</td>
<td align="center">Store service info array corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center">[SviMessage]</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>PUT</code> /v1/devices/{deviceId}/msgs</td>
<td align="center">Store module message info corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center">ModuleMessage</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>DELETE</code> /v1/devices/{deviceId}/msgs</td>
<td align="center">Delete service info array corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/psi</td>
<td align="center">Get module message array corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">[ModuleMessage]</td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/ devices/{deviceId}/values/{valueId}</td>
<td align="center">Get the serviceinfo value corresponding to the <code>valueId</code> for the device identified by <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier, <code>valueId</code>: Serviceinfo resource identifier <br> Query <code>start</code>: start index, <code>end</code>: end index</td>
<td align="center"></td>
<td align="right">Byte Array</td>
</tr>
<tr>
<td align="right"><code>PUT</code> /v1/ devices/{deviceId}/values/{valueId}</td>
<td align="center">Store the serviceinfo value corresponding to the <code>valueId</code> for the device identified by <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier, <code>valueId</code>: Serviceinfo resource identifier</td>
<td align="center"></td>
<td align="right">Byte Array</td>
</tr>
<tr>
<td align="right"><code>DELETE</code> /v1/ devices/{deviceId}/values/{valueId}</td>
<td align="center">Delete the serviceinfo value corresponding to the <code>valueId</code> for the device identified by <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier, <code>valueId</code>: Serviceinfo resource identifier</td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/setupinfo</td>
<td align="center">Get new setup information corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">SetupInfoResponse</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/devices/{deviceId}/errors</td>
<td align="center">Store the error information corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center">DeviceState</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/signatures/{deviceId}</td>
<td align="center">Generate signature of input data and return it along with associated info, corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">String</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/ciphers/{deviceId}</td>
<td align="center">Perform the <code>operation</code> and return data corresponding to the .</td>
<td align="center">Path: <code>deviceId</code>: Device identifier; Query: <code>operation</code>: encipher/decipher</td>
<td align="center">Byte Array</td>
<td align="right">Byte Array</td>
</tr>
<tr>
<td align="right"><code>DELETE</code> /devices/{deviceId}/blob</td>
<td align="center">Delete the <code>deviceId</code> along with all the associated data.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>GET</code> /v1/devices/{deviceId}/sessioninfo</td>
<td align="center">Get the TO2 session info corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right">To2DeviceSessionInfo</td>
</tr>
<tr>
<td align="right"><code>POST</code> /v1/devices/{deviceId}/sessioninfo</td>
<td align="center">Update the TO2 session info corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center">To2DeviceSessionInfo</td>
<td align="right"></td>
</tr>
<tr>
<td align="right"><code>DELETE</code> /v1/devices/{deviceId}/sessioninfo</td>
<td align="center">Delete the TO2 session info corresponding to the <code>deviceId</code>.</td>
<td align="center">Path: <code>deviceId</code>: Device identifier</td>
<td align="center"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<h2 id="rest-contracts-between-to0scheduler-server-and-ocs-client">Rest Contracts between To0Scheduler (server) and OCS (client)<a class="headerlink" href="#rest-contracts-between-to0scheduler-server-and-ocs-client" title="Permanent link">&para;</a></h2>
<p>An OCS implementation must, also, acta as a client to trigger TO0 for set of devices, by making the following request to To0Scheduler. To0Scheduler accepts the request from OCS to initiate TO0 for the list of devices.</p>
<table>
<thead>
<tr>
<th align="right">Operation</th>
<th align="center">Description</th>
<th align="center">Path/Query Parameters</th>
<th align="center">Request Body</th>
<th align="right">Response Body</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><code>POST</code> /v1/to0/devices</td>
<td align="center">Trigger TO0 for an array of devices.</td>
<td align="center"></td>
<td align="center">To0Request</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<h2 id="message-types">Message Types<a class="headerlink" href="#message-types" title="Permanent link">&para;</a></h2>
<p>Following is a list of message types that are sent in the message body of each request/response. Each message type follows the standard JSON* schema. Statements after '#' inside the JavaScript Object Notation (JSON), represents the purpose of the field.</p>
<h3 id="devicestate">DeviceState<a class="headerlink" href="#devicestate" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the state information of the device.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;to2Error&quot;: ProtocolError Object,    # TO2 failure information
  &quot;to2Timestamp&quot;: String,              # Successful TO2 completion time
  &quot;g3&quot;: String,                        # Device Identifier/GUID
  &quot;to0Error&quot;: String,                  # TO0 failure information
  &quot;to0Timestamp&quot;: String,              # Successful TO0 completion time
  &quot;to0Ws&quot;: Integer,                    # Number of seconds for which last successul TO0 is valid.
  &quot;to2State&quot;: String                   # TO2 state
}
</code></pre>

<p>Every field is optional.</p>
<h3 id="protocolerror"><em>ProtocolError</em><a class="headerlink" href="#protocolerror" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the device's error information that occurred during execution of the protocol.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;ec&quot;: Integer,    # Error code
  &quot;emsg&quot;: Integer,  # Message ID
  &quot;em&quot;: String      # Error message
}
</code></pre>

<h3 id="modulemessage"><em>ModuleMessage</em><a class="headerlink" href="#modulemessage" title="Permanent link">&para;</a></h3>
<p>This JSON* structure contains the key-value pairs for a particular module name. It is used to store, both, the device's serviceinfo, and the owner's pre-serviceinfo.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;module&quot;: String,    # module name
  &quot;msg&quot;: String,       # (pre-)serviceinfo key
  &quot;value&quot;:  String     # (pre-)serviceinfo value
}
</code></pre>

<h3 id="svimessage"><em>SviMessage</em><a class="headerlink" href="#svimessage" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents information about the owner service info.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;module&quot;:  String,     # Module name
  &quot;msg&quot;: String,         # Message to be sent
  &quot;valueLen&quot;: Integer,   # Length of the value of the message
  &quot;valueId&quot;: String,     # Key to use when retrieving the serviceinfo value
  &quot;enc&quot;: String          # Encoding expected to use when sending the value
}
</code></pre>

<h3 id="setupinforesponse"><em>SetupInfoResponse</em><a class="headerlink" href="#setupinforesponse" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the new Device identifier and the Rendezvous information.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;g3&quot;: String,                             # New device identifier/GUID
  &quot;r3&quot;: [
          RendezvousInstruction Object      # Array of RendezvousInstruction objects
        ]
}
</code></pre>

<h3 id="rendezvousinstruction"><em>RendezvousInstruction</em><a class="headerlink" href="#rendezvousinstruction" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the rendezvous information. Please refer to the <a href="../../protocol-specification/protocol-data-types/#rendezvousinfo">RendezvousInfo</a> to know about these values.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;only&quot;: String,
  &quot;ip&quot;: String,
  &quot;po&quot;: Integer,
  &quot;pow&quot;: Integer,
  &quot;dn&quot;: String,
  &quot;sch&quot;: String,
  &quot;cch&quot;: String,
  &quot;ui&quot;: Integer,
  &quot;ss&quot;: String,
  &quot;pw&quot;: String,
  &quot;wsp&quot;: String,
  &quot;me&quot;: String,
  &quot;pr&quot;: String,
  &quot;delaysec&quot;: Integer
}
</code></pre>

<h3 id="signatureresponse"><em>SignatureResponse</em><a class="headerlink" href="#signatureresponse" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the response to the signature operation.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;sg&quot;: String,    # Base-64 encoded signature information
  &quot;pk&quot;: String,    # Base-64 encode public key information that can verify the signature
  &quot;alg&quot;: String    # Algorithm of the public key
}
</code></pre>

<h3 id="ownervoucher"><em>OwnerVoucher</em><a class="headerlink" href="#ownervoucher" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the Ownership voucher of the device. Please refer to the <a href="../../protocol-specification/detailed-protocol-description/#pmownershipproxy-type-3">Ownership Voucher</a> about the structure.</p>
<h3 id="message41store"><em>Message41Store</em><a class="headerlink" href="#message41store" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the information from Secure Device Onboard protocol's request <a href="../../protocol-specification/detailed-protocol-description/#to2hellodevice-type-40">TO2.HelloDevice, Type 40</a> and its subsequent response <a href="../../protocol-specification/detailed-protocol-description/#to2proveophdr-type-41">TO2.ProveOPHdr, Type 41</a>. This information is stored as a part of TO2 session information per device.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;n6&quot;: String,                  # Nonce n6
  &quot;kx&quot;: String,                  # Key exchange information
  &quot;ownershipVoucher&quot;: String,    # ownership voucher
  &quot;cs&quot;: String,                  # cipher suite
  &quot;kxEcdhPublicKey&quot;: String,     # Public key being used for ECDH key exchange
  &quot;kxEcdhPrivateKey&quot;: String,    # Private key being used for ECDH key exchange
  &quot;kxEcdhRandom&quot;: String,        # Random being used for ECDH key exchange
  &quot;kxDhPublicKey&quot;: String,       # Public key being used for DH key exchange
  &quot;kxDhPrivateKey&quot;: String,      # Public key being used for DH key exchange
  &quot;asymRandom&quot;: String           # Random being used for Asymmetric key exchange
}
</code></pre>

<h3 id="message45store"><em>Message45Store</em><a class="headerlink" href="#message45store" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the information from Secure Device Onboard protocol's request <a href="../../protocol-specification/detailed-protocol-description/#to2provedevice-type-44">TO2.ProveDevice, Type 44</a> and its subsequent response <a href="../../protocol-specification/detailed-protocol-description/#to2getnextdeviceserviceinfo-type-45">TO2.GetNextDeviceServiceInfo, Type 45</a>. This information is stored as a part of TO2 session information per device.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;n7&quot;: String,    # Nonce n7
  &quot;nn&quot;: Integer,   # Total number of serviceinfo
  &quot;xb&quot;: String     # Second part of key-exchange
}
</code></pre>

<h3 id="message47store"><em>Message47Store</em><a class="headerlink" href="#message47store" title="Permanent link">&para;</a></h3>
<p>This JSON* structure contains the new ownership voucher information, temporarily, until till the end of TO2 protocol, created during response generation of <a href="../../protocol-specification/detailed-protocol-description/#to2setupdevice-type-47">TO2.SetupDevice, Type 47</a>. This information is stored as a part of TO2 session information per device.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;newOwnershipVoucher&quot;: String    # the new ownership voucher structure without hmac
}
</code></pre>

<h3 id="devicecryptoinfo"><em>DeviceCryptoInfo</em><a class="headerlink" href="#devicecryptoinfo" title="Permanent link">&para;</a></h3>
<p>This JSON* structure contains the nonce and counter of the Initialization Vector for the Secure Device Onboard TO2 cipher mode of operation.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;ctrNonce&quot;: String,    # Nonce used for CTR mode
  &quot;ctrCounter&quot;: Long     # Counter value used for CTR mode
}
</code></pre>

<h3 id="to2devicesessioninfo"><em>To2DeviceSessionInfo</em><a class="headerlink" href="#to2devicesessioninfo" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the complete TO2 session information. It's a combination of multiple structures, where each structure is either null or contains values. If any of the structure is null, OCS treats the structure as non-updatable in its store, while OPS considers the same to be an erroneous case. If any of the structure contains appropriate information, OCS overrides the current content with the new content, while OPS processes the content during TO2 protocol execution.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;messsage41Store&quot;: Message41Store Object,
  &quot;messsage45Store&quot;: Message45Store Object,
  &quot;messsage47Store&quot;: Message47Store Object,
  &quot;deviceCryptoInfo&quot;: DeviceCryptoInfo Object
}
</code></pre>

<h3 id="to0request"><em>To0Request</em><a class="headerlink" href="#to0request" title="Permanent link">&para;</a></h3>
<p>This JSON* structure represents the request message that is sent from the OCS to schedule an array of devices for TO0.</p>
<p><em>Message Body:</em></p>
<pre><code>{
  &quot;guids&quot;: [
             String            # Array of Device Identifiers/GUID
           ],
  &quot;waitSeconds&quot;: String        # Suggested number of seconds for which TO0 will be valid
}
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../running-the-demo/" title="Running The Demo" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Running The Demo
              </div>
            </div>
          </a>
        
        
          <a href="../../rendezvous-service/introduction/" title="Introduction" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Intel Corporation - Released under CC BY 4.0 license
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.a14cc5fd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>